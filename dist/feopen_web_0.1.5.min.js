!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.feopen_web=n():e.feopen_web=n()}(this,function(){return function(e){function n(r){if(o[r])return o[r].exports;var i=o[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}var o={};return n.m=e,n.c=o,n.d=function(e,o,r){n.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:r})},n.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="/0.1.5/",n(n.s=1)}([function(e,n){function o(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)"),o=n.exec(location.search);return null===o?"":decodeURIComponent(o[1].replace(/\+/g," "))}e.exports.getUrlParameter=o},function(e,n,o){function r(e,n,o,r,i,c){function l(){var e=t("auto");e=""===e?"":"true"===e||"1"===e;var n=t("debug");return n=""===n?"":"true"===n||"1"===n,{auto:e,debug:n}}function u(){return"string"==typeof h.appFlag?""!==h.appFlag&&1!==window.navigator.userAgent.indexOf(h.appFlag):"function"==typeof h.appFlag&&h.appFlag()}function f(){var e=this;window.addEventListener("click",function(n){var o=n.target;o.classList.contains("feopen")&&e.open(),o.classList.contains("feopen-download")&&e.download()},!1)}function d(e){var n=l();this.config.autoOpen=n.auto&&"boolean"==typeof n.auto?n.auto:e.autoOpen,this.config.debug=!(!n.debug||"boolean"!=typeof n.debug)&&n.debug,this.config.isApp=u(),f.call(this)}this.version="0.1.5";var p=a(e,r,n,o),h={isApp:!1,autoOpen:!1,schema:p.schema,universalUrl:p.universalUrl,appLink:p.appLink,intent:p.intent,downloadUrl:p.downloadUrl,callback:{onStart:c&&c.onStart?c.onStart:null,onEnd:c&&c.onEnd?c.onEnd:null,onSuccess:c&&c.onSuccess?c.onSuccess:null,onFail:c&&c.onFail?c.onFail:null,onWeChat:c&&c.onWeChat?c.onWeChat:null}};s.call(this,h),d.call(this,h)}function i(e,n,o,i,t,s){return new r(e,n,o,i,t,s)}var t=o(0).getUrlParameter,s=o(2),a=o(6).openFormat;o(7).version;r.prototype=Object.create(s.prototype),r.prototype.constructor=r,e.exports.init=i},function(e,n,o){function r(e){function n(n){e(n>3e3||document.hidden||document.webkitHidden?1:0)}var o,r=+new Date,i=0;o=setInterval(function(){i++;var e=+new Date-r;(i>=100||e>3e3)&&(clearInterval(o),n(e))},20)}function i(e,n){function o(e){var n=this;if(document){var o=(Date.now(),document.createElement("iframe"));o.src=e,o.style.display="none",document.body.appendChild(o),r(function(e){e?n.config.callback.onSuccess&&"function"==typeof n.config.callback.onSuccess&&n.config.callback.onSuccess():n.config.callback.onFail&&"function"==typeof n.config.callback.onFail&&n.config.callback.onFail(),n.config.callback.onEnd&&"function"==typeof n.config.callback.onEnd&&n.config.callback.onEnd()}),setTimeout(function(){document.body.removeChild(o)},2e3)}}function i(e){location&&location.replace(e)}function a(e,n){c=n?t.getEnv(n):window&&window.navigator?t.getEnv(window.navigator.userAgent):null,this.config=e}var c;this.getDownloadUrl=function(){return Array.isArray(this.config.downloadUrl)?c.isAndroid?this.config.downloadUrl[1]||"":c.isIOS?this.config.downloadUrl[0]||"":"":this.config.downloadUrl},this.download=function(e){(e=e||this.getDownloadUrl())&&(window.location.href=e||this.config.downloadUrl)},this._debugLog=function(e){this.config.debug&&console.log(e)},this.open=function(e){if(this.config.isApp)return!1;this.config.callback.onStart&&"function"==typeof this.config.callback.onStart&&this.config.callback.onStart();var n=e&&e.universalUrl||this.config.universalUrl,r=e&&e.appLink||this.config.appLink,t=e&&e.intent||this.config.intent,a=e&&e.schema||this.config.schema;if(this._debugLog(n),this._debugLog(r),this._debugLog(t),this._debugLog(a),c.isWeChat)return this._debugLog("WeChat"),this.config.callback.onWeChat&&"function"==typeof this.config.callback.onWeChat&&this.config.callback.onWeChat(),!1;var l=!1,u=s.getMethod(c,""!==n,""!==r,t);"u"===u&&(this._debugLog("universal url"),i.call(this,n),l=!0),"a"===u&&(this._debugLog("app link"),i.call(this,r),l=!0),"i"===u&&(this._debugLog("intent"),i.call(this,t),l=!0),l||(this._debugLog("schema"),o.call(this,a))},this.start=function(e){(e||!1!==e&&this.config.autoOpen)&&this.open()},a.call(this,e,n)}var t=o(3),s=o(5);i.prototype.config={isApp:!1,autoOpen:!1,schema:"",universalUrl:"",appLink:"",intent:"",downloadUrl:[],callback:{onStart:function(){},onEnd:function(){},onSuccess:function(){},onFail:function(){}},debug:!1},e.exports=i},function(e,n,o){var r=o(4),i={getEnv:function(e){var n=new r(e);return{isApp:null,isAndroid:"android"===n.os.name,isIOS:"ios"===n.os.name,osVer:n.os.ver,osMVer:n.os.mver,appVer:"0",browser:n.browser.name?n.browser.name:"",browserVer:n.browser.ver?n.browser.ver:"0",browserMVer:n.browser.mver?n.browser.mver:0,isWeChat:!!n.browser.name&&"WeChat"===n.browser.name,isChrome:!!n.browser.name&&"Chrome"===n.browser.name,isMIUI:!!n.browser.name&&"MIUI Browser"===n.browser.name,isWeibo:!!n.browser.name&&"Weibo"===n.browser.name,isUC:!!n.browser.name&&"UCBrowser"===n.browser.name,isQQ:!!n.browser.name&&"QQBrowser"===n.browser.name,isLieBao:!!n.browser.name&&"LieBaoFast"===n.browser.name,isSamsung:!!n.browser.name&&"Samsung Browser"===n.browser.name}}};e.exports=i},function(e,n,o){"use strict";function r(e){function n(e){this.ua=e,this.os=this.getOS(e),this.browser=this.getBrowser(e)}this.ua="",this.os=null,this.getOS=function(e){if(!this.os){var n={};s.rgx.call(n,e,t.os),this.os=n,this.os.mver=n.ver?Number.parseInt(n.ver.replace(/^(\d+).*/,"$1")):0}return this.os},this.getBrowser=function(e){if(!this.browser){var n={};s.rgx.call(n,e,t.browser),this.browser=n,this.browser.mver=n.ver?Number.parseInt(n.ver.replace(/^(\d+).*/,"$1")):0}return this.browser},n.call(this,e)}var i="name",t={browser:[[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[i,"UCBrowser"],"ver"],[/(weibo)__([\d\.]+)/i],[[i,"Weibo"],"ver"],[/(micromessenger)\/([\w\.]+)/i],[[i,"WeChat"],"ver"],[/(QQ)\/([\d\.]+)/i],[i,"ver"],[/m?(qqbrowser|liebaofast|EUI Browser|OppoBrowser)[\/\s]?([\w\.]+)/i],[i,"ver"],[/xiaomi\/miuibrowser\/([\w\.]+)/i],["ver",[i,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],["ver",[i,"Facebook"]],[/(headlesschrome) ([\w\.]+)/i],["ver",[i,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[i,/(.+)/,"$1 WebView"],"ver"],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[i,/(.+(?:g|us))(.+)/,"$1 $2"],"ver"],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],["ver",[i,"Android Browser"]],[/(chrome)\/v?([\w\.]+)/i],[i,"ver"],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[i,"Chrome"],"ver"],[/fxios\/([\w\.-]+)/i],["ver",[i,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],["ver",[i,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],["ver",i]],os:[[/(android)[\/\s-]?([\w\.]+)*/i],[[i,"android"],["ver"]],[/(iphone|ipad)(?:.*os\s([\w]+)*\slike\smac)/i],[[i,"ios"],["ver",/_/g,"."]]]},s={rgx:function(e,n){for(var o,r,i,t,s,a,c=0;c<n.length&&!s;){var l=n[c],u=n[c+1];for(o=r=0;o<l.length&&!s;)if(s=l[o++].exec(e))for(i=0;i<u.length;i++)a=s[++r],t=u[i],Array.isArray(t)?1===t.length?this[t[0]]=a:2===t.length?"function"==typeof t[1]?this[t[0]]=t[1].call(this,a):this[t[0]]=t[1]:3===t.length?"function"!=typeof t[1]||t[1].exec&&t[1].test?this[t[0]]=a?a.replace(t[1],t[2]):void 0:this[t[0]]=a?t[1].call(this,a,t[2]):void 0:4==t.length&&(this[t[0]]=a?t[3].call(this,a.replace(t[1],t[2])):void 0):this[t]=a||void 0;c+=2}},str:function(e,n){for(var o in n)if("object"==typeof n[o]&&n[o].length>0){for(var r=0;r<n[o].length;r++)if(util.has(n[o][r],e))return o===UNKNOWN?void 0:o}else if(util.has(n[o],e))return o===UNKNOWN?void 0:o;return e}};e.exports=r},function(e,n){function o(e,n,o,r){var i="";return e.isIOS&&e.osMVer>=9&&n?i="u":e.isAndroid&&e.osMVer>=6&&o?i="a":e.isAndroid&&r&&(e.isMIUI||e.isChrome||e.isSamsung)&&(i="i"),i}e.exports.getMethod=o},function(e,n,o){function r(e){var n=["",""];return e&&Array.isArray(e)&&(n[0]=e[0]?e[0]:"",n[1]=e[1]?e[1]:""),e&&"string"==typeof e&&(n=[e,e]),n}function i(e,n,o,i){e=e||{},n=n||"",i=i||"";var s=e.value||t("schema"),a={schema:"",universalUrl:"",appLink:"",intent:"",downloadUrl:""};a.schema=e.protocal+encodeURIComponent(s);var c=[];o&&(c.push("intent://"+(o.host?o.host:null)+"/#Intent"),(o.schema||s)&&c.push("scheme="+(o.schema?o.schema:s)),o.package&&c.push("package="+o.package),o.action&&c.push("action="+o.action),o.category&&c.push("category="+o.category),o.component&&c.push("component="+o.component),o.fallbackUrl&&c.push("S.browser_fallback_url="+encodeURIComponent(o.fallbackUrl)),c.push("end"),a.intent=c.join(";")),a.downloadUrl=n||"";var l=r(i);return a.universalUrl=l&&l[0]?l[0]:"",a.appLink=l&&l[1]?l[1]:"",a}var t=o(0).getUrlParameter;e.exports.openFormat=i},function(e,n){e.exports={name:"fe-open",version:"0.1.5",description:"H5唤醒原生APP",main:"src/index.js",scripts:{"test:debug":"node --inspect-brk ./node_modules/jest/bin/jest --config=./config/jest.config.js --runInBand",test:"node ./node_modules/jest/bin/jest --config=./config/jest.config.js",build:"webpack --config config/webpack.prod.config.js && npm run doc",dev:"webpack-dev-server --config config/webpack.dev.config.js",doc:"jsdoc2md --no-cache -c config/jsdoc.conf.json >> docs/api.md","build:publish":"npm run build && npm publish"},author:"gzliruixi",license:"ISC",devDependencies:{"clean-webpack-plugin":"^0.1.16",jest:"^20.0.4","jsdoc-to-markdown":"^3.0.0",webpack:"^3.5.5","webpack-dev-server":"^2.7.1","webpack-merge":"^4.1.0"}}}])});